---
title: "Final Hyperparameters"
format: html
---

```{r}
## Final Hyperparameters
# Custom headers for parameter results table, purely aesthetic
param_headers <- htmltools::withTags(table(
  class = "display", 
  thead(
    tr(
      th(rowspan = 2, "Total Iterations"),
      th(rowspan = 2, "Best Iteration"),
      th(colspan = 7, "Parameters"),
    ),
    tr(
      th("mtry"), th("min_n"), th("tree_depth"),
      th("learn_rate"), th("loss_reduction"), th("num_leaves")
    )
  )
))
model_parameter_final <- read_parquet("~/Separate Quarto doc into file per topic #74/reports/Separate Quarto doc into file per topic #74/output/parameter_final/model_parameter_final.parquet")

# Table of all final model hyperparameters that were used
model_parameter_final  %>%
  select(-any_of(c(
    "n", "std_err", "num_iterations", ".metric", ".estimator",
    ".best", ".bound", "rmse", "rsq", "cod", "prd", "prb", "mape"
  ))) %>%
  #relocate(c(iterations, .config), .before = NULL) %>%
  datatable(
    rownames = FALSE,
    filter = "none",
    selection = "none",
    container = param_headers,
    escape = FALSE,
    options = list(
      scrollX = TRUE,
      paging = FALSE,
      searching = FALSE,
      info = FALSE
    )
  ) %>%
  formatRound(c(6:7), digits = 4)
```

